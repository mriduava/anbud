{"version":3,"sources":["components/partials/TopNavbar.js","contexts/UserContextProvider.js","contexts/AuctionContextProvider.js","components/partials/Footer.js","components/auction/CreateAd.js","contexts/SocketContextProvider.js","components/auction/AuctionDetail.js","components/user/SignUp.js","components/user/SignIn.js","components/user/MyAuctions.js","components/auction/ItemList.js","pages/Home.js","components/protected/ProtectedRoute.js","App.js","reportWebVitals.js","index.js"],"names":["throttleSearch","UserContext","createContext","UserContextProvider","props","useState","user","setUser","fetchUser","a","fetch","res","json","localStorage","setItem","JSON","stringify","console","log","useEffect","currentUser","parse","getItem","values","Provider","value","children","AuctionContext","AuctionContextProvider","auctionItems","setAuctionItems","auctionItem","setAuctionItem","bids","setBids","fetchAllBids","fetchAllAuctionItems","auctions","fetchOneAuctionItem","id","auction","parsedData","undefined","updateBids","newBid","push","appendToAuctionsState","TopNavbar","useContext","isOpen","setIsOpen","logoutUser","removeItem","searchAuctionItem","input","trim","Container","className","fluid","Navbar","light","expand","to","NavbarToggler","onClick","Collapse","navbar","Nav","type","placeholder","style","height","onChange","e","target","clearTimeout","setTimeout","autoComplete","NavItem","textDecoration","name","Footer","Row","registerLocale","sv","CreateAd","today","Date","tomorrow","setDate","getDate","oneMonth","endDate","setEndDate","itemName","setItemName","description","setDescription","imageUrl","setImageUrl","initialPrice","setInitialPrice","message","setMessage","createAd","preventDefault","date","end_date","getTime","data","item_name","item_image","initial_price","owner_id","start_date","now","stop_date","method","body","headers","then","response","ok","Promise","resolve","history","catch","error","reject","Col","lg","onSubmit","locale","padding","selected","minDate","isClearable","maxDate","showWeekNumbersshowTimeSelect","showTimeSelect","timeFormat","timeIntervals","dateFormat","showYearDropdown","scrolllableMonthYearDropdown","placeholderText","SocketContext","SocketContextProvider","ws","setWs","setIsConnected","dataWrapper","WebSocket","onmessage","warn","action","payload","onopen","send","onclose","connect","sendBidData","AuctionDetail","setNewBid","getTheHighestBid","auctionId","allBids","map","bid","i","auction_id","Math","max","src","alt","owner","time","moment","format","alert","bidder_id","created_at","postNewBid","bidder","dispAuctionDetail","SignUp","setName","email","setEmail","password","setPassword","signUpUser","credentials","pictureUrl","required","SignIn","useHistory","signInUser","encodeURIComponent","url","includes","goBack","MyAuctions","myAuctions","setMyAuctions","formateTime","myId","fetchMyAuctions","DispTopTexts","width","DispMyAuctionList","length","cursor","overflowX","borderRadius","maxHeight","Fade","class","role","ItemList","getAuctionBids","item","md","sm","Card","CardImg","top","CardBody","CardTitle","tag","CardSubtitle","CardText","Home","ProtectedRoute","Component","component","rest","render","pathname","state","from","location","App","exact","path","MyAuction","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Fragment","document","getElementById"],"mappings":"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","file":"static/js/main.185755d1.chunk.js","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport {Container, Collapse, Navbar, NavbarToggler, Nav, NavItem} from 'reactstrap';\r\nimport { UserContext } from '../../contexts/UserContextProvider'\r\nimport { AuctionContext } from '../../contexts/AuctionContextProvider'\r\nlet throttleSearch;\r\n\r\nconst TopNavbar = () => {\r\n  const { user, setUser } = useContext(UserContext)\r\n  const { setAuctionItems } = useContext(AuctionContext)\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const toggle = () => setIsOpen(!isOpen);\r\n\r\n  const logoutUser = async () => {\r\n    await fetch('/logout')\r\n    setUser(null)\r\n    localStorage.removeItem('user');\r\n  }\r\n\r\n  const searchAuctionItem = async (input) => {\r\n    let res;\r\n    if(!input.trim()) {\r\n      res = await fetch('/api/auctions')\r\n    } else {\r\n      res = await fetch('/api/auctions/search/' + input)\r\n    }\r\n    res = await res.json()\r\n    setAuctionItems(res)\r\n  }\r\n\r\n  const autoSearch = (input) => {\r\n    clearTimeout(throttleSearch)\r\n    throttleSearch = setTimeout(async () => {\r\n      await searchAuctionItem(input)\r\n    }, 300);\r\n  }\r\n\r\n  return (\r\n    <Container className=\"px-0 bg-light bg-gradient rounded-bottom shadow\" fluid >\r\n      <Container>\r\n      <Navbar light expand=\"md\" className=\"mb-0\">\r\n        <Link to=\"/\" className=\"mr-auto navbar-brand text-success font-weight-bold mb-0 pt-2 pb-0\"><h3>ANBUD</h3></Link>\r\n        <NavbarToggler onClick={toggle} />\r\n        <Collapse isOpen={isOpen} navbar>\r\n          <Nav  className=\"ms-auto\" navbar>\r\n          <form className=\"form-inline d-flex\">\r\n            <input className=\"form-control\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" style={{height: \"32px\"}}\r\n              onChange={e => autoSearch(e.target.value)} autoComplete=\"off\" />\r\n          </form>  \r\n          {!user?(\r\n            <div className=\"mt-1 d-lg-flex\">\r\n              <NavItem>\r\n                <Link className=\"text-dark mx-lg-4\" to=\"/user-register\">SIGN UP</Link>\r\n              </NavItem>\r\n              <NavItem>\r\n                <Link className=\"text-dark ml-lg-3 mr-lg-0\" to=\"/user-login\">SIGN IN</Link>\r\n              </NavItem>\r\n            </div>\r\n            ):(\r\n            <div className=\"mt-1 d-lg-flex\">\r\n              <NavItem>\r\n                <Link className=\"text-dark mx-lg-4\" to=\"/newauction\">CREATE AD</Link>\r\n              </NavItem>\r\n              <NavItem className=\"mx-1\">\r\n                <Link className=\"text-dark mx-lg-3 text-uppercase\" to=\"/\" style={{textDecoration:'none'}}>User: <span className=\"text-success\">{user&&user.name}</span></Link>\r\n              </NavItem>\r\n              <NavItem>\r\n                <Link className=\"text-dark mx-lg-4\" to=\"/myauction\">MY AUCTIONS</Link>\r\n              </NavItem>\r\n              <NavItem>\r\n                <Link className=\"text-dark ml-lg-2\" onClick={logoutUser} to=\"/\"> LOGOUT</Link>\r\n              </NavItem>\r\n            </div>\r\n            )}\r\n          </Nav>       \r\n        </Collapse>\r\n        \r\n      </Navbar>\r\n      </Container>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default TopNavbar\r\n","import React, {createContext, useState, useEffect} from 'react'\r\n\r\nexport const UserContext = createContext();\r\n\r\nconst UserContextProvider = (props) => {\r\n  const [user, setUser] = useState(null)\r\n\r\n  const fetchUser = async () => {\r\n    let res = await fetch('/auth/user')\r\n    try {\r\n      res = await res.json()\r\n      setUser(res)\r\n      localStorage.setItem('user', JSON.stringify(user)) \r\n    } catch {\r\n      console.log(\"Not authenticated!\");\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    fetchUser()\r\n    const currentUser = JSON.parse(localStorage.getItem('user'))\r\n    if (currentUser) {\r\n      setUser(currentUser)\r\n    }\r\n  },[])\r\n\r\n  const values = {\r\n    user,\r\n    setUser,\r\n    fetchUser\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider value={values}>\r\n      {props.children}\r\n    </UserContext.Provider>\r\n  )\r\n}\r\n\r\nexport default UserContextProvider\r\n","import React, {createContext, useState, useEffect } from 'react'\r\n\r\nexport const AuctionContext = createContext();\r\n\r\nconst AuctionContextProvider = (props) => {\r\n  const [auctionItems, setAuctionItems] = useState([])\r\n  const [auctionItem, setAuctionItem] = useState(null)\r\n  const [bids, setBids] = useState([])\r\n\r\n  const fetchAllBids= async () => {\r\n    let bids = await fetch(`/api/bids`)\r\n    bids = await bids.json()\r\n    setBids(bids);\r\n  };\r\n\r\n  const fetchBidsByAuctionId = async (auctionId) => {\r\n    let oneItemBids = await fetch(`/api/bids/${auctionId}`)\r\n    oneItemBids= await oneItemBids.json()\r\n    // setItemBids(oneItemBids);\r\n  };\r\n\r\n  const fetchAllAuctionItems = async () => {\r\n    let auctions = await fetch('/api/auctions')\r\n    auctions = await auctions.json()\r\n    setAuctionItems(auctions);\r\n  };\r\n  useEffect(()=>{\r\n    fetchAllAuctionItems()\r\n    fetchAllBids()\r\n  }, [])\r\n\r\n  const appendToAuctionsState = () => {\r\n    // return setAuctionItems([...auctionItems, item])\r\n    fetchAllAuctionItems()\r\n  }\r\n\r\n  const updateBids = (newBid) => {\r\n    bids.push(newBid)\r\n    fetchAllBids()\r\n  }\r\n\r\n  const fetchOneAuctionItem = async (id) => {\r\n    let auction = await fetch(`/api/auctions/${id}`)\r\n    auction = await auction.json()\r\n    setAuctionItem(auction);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let parsedData;\r\n    if (localStorage.getItem(\"item\") !== null || localStorage.getItem(\"item\") !== undefined) {\r\n      parsedData = JSON.parse(localStorage.getItem(\"item\"))\r\n    }\r\n    setAuctionItem(parsedData)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (auctionItem !== null || auctionItem !== undefined) {\r\n       localStorage.setItem(\"item\", JSON.stringify(auctionItem))\r\n    }\r\n  }, [auctionItem])\r\n\r\n\r\n  const values = {\r\n    auctionItems,\r\n    setAuctionItems,\r\n    fetchAllAuctionItems,\r\n    fetchOneAuctionItem,\r\n    auctionItem,\r\n    setAuctionItem,\r\n    fetchAllBids,\r\n    bids,\r\n    updateBids,\r\n    appendToAuctionsState\r\n  }\r\n\r\n  return (\r\n    <AuctionContext.Provider value={values}>\r\n      {props.children}\r\n    </AuctionContext.Provider>\r\n  )\r\n}\r\n\r\nexport default AuctionContextProvider\r\n","import React from 'react'\r\nimport { Container, Row } from 'reactstrap'\r\n\r\nconst Footer = () => {\r\n  return (\r\n   <Container className=\"footer bottom bg-light bg-gradient rounded-top border-top border-5\" fluid>\r\n    <Container className=\"mt-1 text-center\">\r\n      <Row>        \r\n        <div className=\"mx-auto pt-3\">\r\n          <p className=\"mb-0 font-weight-bold\">&copy; 2021 MARUF AHMED</p>\r\n          <hr className=\"my-0 bg-secondary\"/>\r\n          <p className=\"mb-0\">email: mriduava@gmail.com</p>\r\n          <p>github.com/mriduava/anbud</p>\r\n        </div>\r\n      </Row>      \r\n    </Container>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React, { useState, useContext } from 'react'\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport { UserContext } from '../../contexts/UserContextProvider'\r\nimport { AuctionContext } from '../../contexts/AuctionContextProvider'\r\nimport DatePicker, { registerLocale } from 'react-datepicker'\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\nimport sv from \"date-fns/locale/sv\"; \r\nregisterLocale(\"sv\", sv); \r\n\r\n\r\nconst CreateAd = (props) => {\r\n  const { user } = useContext(UserContext)\r\n  const { appendToAuctionsState } = useContext(AuctionContext)\r\n\r\n  const today = new Date();\r\n  const tomorrow = today.setDate(today.getDate()+1);\r\n  const oneMonth = today.setDate(today.getDate()+30);\r\n  const [endDate, setEndDate] = useState(tomorrow);\r\n\r\n  const [itemName, setItemName] = useState('')\r\n  const [description, setDescription] = useState('')\r\n  const [imageUrl, setImageUrl] = useState('')\r\n  const [initialPrice, setInitialPrice] = useState('')\r\n\r\n  const [message, setMessage] = useState('')\r\n\r\n  const createAd = async (e) => {\r\n    e.preventDefault();\r\n    let date = new Date(endDate);\r\n    let end_date = date.getTime()\r\n    let data = {\r\n      item_name: itemName,\r\n      description,\r\n      item_image: imageUrl,\r\n      initial_price: initialPrice,\r\n      owner_id: user.id,\r\n      start_date: Date.now(),\r\n      stop_date: end_date\r\n    }\r\n\r\n    await fetch(`/api/auctions`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      }\r\n    })\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        response = response.json();\r\n        Promise.resolve(response)\r\n        .then(data => {\r\n          appendToAuctionsState(data)\r\n        })             \r\n        props.history.push('/') \r\n      } else {\r\n        setMessage(\"Submission failed!\")\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      return Promise.reject()\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Row className=\"mt-5\">\r\n        <Col lg=\"3\" className=\"border-top border-end rounded\"></Col>\r\n        <Col lg=\"6\" className=\"py-5 rounded shadow-sm\">\r\n          <h4>Create ad</h4>\r\n          <hr />\r\n          <form onSubmit={createAd}>\r\n            <input type=\"text\" className=\"mt-2 form-control\" placeholder=\"Item name\"\r\n               value={itemName} onChange={e=>setItemName(e.target.value)}/>\r\n            <input type=\"text\" className=\"mt-2 form-control\" placeholder=\"Description\"\r\n               value={description} onChange={e=>setDescription(e.target.value)}/> \r\n            <input type=\"text\" className=\"form-control mt-1\" placeholder=\"Image URL\"\r\n              value={imageUrl} onChange={e=>setImageUrl(e.target.value)}/>\r\n            <input type=\"text\" className=\"form-control mt-1\" placeholder=\"Initial price\"\r\n              value={initialPrice} onChange={e=>setInitialPrice(e.target.value)}/>\r\n            <div className=\"mt-3\">\r\n            <span className=\"mr-5 text-dark\">Ends </span>\r\n              <DatePicker className=\"px-2 py-1 border border-secondary rounded\" locale=\"sv\"\r\n                style={{ padding:'2px !important'}} selected={endDate}\r\n                onChange={date=>setEndDate(date)}\r\n                minDate={tomorrow} isClearable maxDate={oneMonth}\r\n                showWeekNumbersshowTimeSelect showTimeSelect\r\n                timeFormat=\"p\" timeIntervals={15} dateFormat=\"Pp\"\r\n                showYearDropdown scrolllableMonthYearDropdown\r\n                placeholderText=\"End date\"\r\n              />  \r\n            </div>    \r\n            <button className=\"btn btn-outline-success btn-sm float-right mt-3 px-5\">Submit</button> \r\n            <p className=\"mt-1\">{message&&message}</p>\r\n          </form>\r\n        </Col>\r\n        <Col lg=\"3\" className=\"border-start border-top rounded\"></Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default CreateAd\r\n","import React, {useState, useEffect, useContext, createContext} from 'react'\r\nimport { AuctionContext } from './AuctionContextProvider'\r\n\r\nexport const SocketContext = createContext();\r\n\r\nconst SocketContextProvider = (props) => {\r\n  const { updateBids } = useContext(AuctionContext)\r\n\r\n  const [ws, setWs] = useState();\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  \r\n  useEffect(()=>{\r\n    const connect = () => {\r\n      const ws = new WebSocket('ws://localhost:9000/anbud-socket');\r\n      setWs(ws)\r\n      let dataWrapper;\r\n      ws.onmessage = (e) => {\r\n        try {\r\n          dataWrapper = JSON.parse(e.data)\r\n        } catch {\r\n          console.warn('Could not parse:', e);\r\n          return\r\n        }\r\n    \r\n        switch(dataWrapper.action) {\r\n          case 'bid':\r\n            updateBids([dataWrapper.payload])\r\n            break;\r\n          case 'user-status':\r\n              console.log('New status change:', dataWrapper.payload);\r\n              break;\r\n          default:\r\n              console.log('Could not read action:', dataWrapper.action);\r\n        }\r\n      }\r\n\r\n      ws.onopen = (e) => {\r\n        ws.send(JSON.stringify({\r\n          action: 'connection',\r\n          payload: 'user connected'\r\n        }));\r\n        setIsConnected(true);\r\n      };\r\n\r\n      ws.onclose = (e) => {\r\n        console.log(\"Closing websocket...\");\r\n      };\r\n      console.log(\"Connecting...\");\r\n    }\r\n    connect();\r\n  }, [])\r\n\r\n  const disconnect = () => {\r\n    if (ws != null) {\r\n        ws.close();\r\n    }\r\n    setIsConnected(false);\r\n    console.log(\"Disconnected\");\r\n  }\r\n\r\n  const send = (data) => {\r\n    ws.send(JSON.stringify(data));\r\n  }\r\n\r\n  const sendBidData = (newBid) => {\r\n    send({\r\n        action: 'bid',\r\n        payload: newBid\r\n    })\r\n  }\r\n\r\n  const values = {\r\n    sendBidData\r\n  };\r\n\r\n  return (\r\n    <SocketContext.Provider value={values}>\r\n      {props.children}\r\n    </SocketContext.Provider>\r\n  )\r\n}\r\n\r\nexport default SocketContextProvider\r\n","import React, {useContext, useState} from 'react'\r\nimport { AuctionContext } from '../../contexts/AuctionContextProvider'\r\nimport { SocketContext } from '../../contexts/SocketContextProvider'\r\nimport { UserContext } from '../../contexts/UserContextProvider'\r\nimport { Container, Row, Col} from 'reactstrap';\r\nimport moment from 'moment'\r\n\r\nconst AuctionDetail = (props) => {\r\n  const { auctionItem, bids } = useContext(AuctionContext);\r\n  const { sendBidData } = useContext(SocketContext);\r\n  const { user } = useContext(UserContext);\r\n\r\n  const [newBid, setNewBid] = useState('');\r\n\r\n  const formatTime = (time) => {\r\n    return moment(time).format('MMMM Do YYYY, H:mm');\r\n  }\r\n\r\n  const getTheHighestBid = (auctionId) => {\r\n    let allBids = bids.map((bid, i) => bid.auction_id === auctionId?bid.bid:0);\r\n    let highestBid = Math.max(...allBids)\r\n    return highestBid;\r\n  }\r\n\r\n  const postNewBid = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (user === null) {\r\n      props.history.push('/user-login')\r\n    }\r\n    else if (newBid <= getTheHighestBid(auctionItem.id)) {\r\n      alert(`Please write a value more than ${getTheHighestBid(auctionItem.id)}`)\r\n    }\r\n    else if(newBid <= auctionItem.initial_price ){\r\n      alert(`Please write a value more than ${auctionItem.initial_price}`)\r\n    }\r\n    else if(user.id === auctionItem.owner.id){\r\n      alert(`You can not bid on your own auction!`)\r\n    }\r\n    else{\r\n      let data = {\r\n        auction_id: auctionItem.id,\r\n        bid: +newBid,\r\n        bidder_id: user.id,\r\n        created_at: Date.now()\r\n      }\r\n      sendBidData(data)\r\n      setNewBid('')\r\n    }\r\n  }\r\n\r\n  const dispAuctionDetail = () => {\r\n    return(\r\n      <Row className=\"my-5\">\r\n        <Col lg=\"6\">\r\n          <img className=\"item-detail-img border border-secondary p-2 rounded\" src={auctionItem.item_image} alt=\"mriduava@gmail.com\" />\r\n          <div className=\"mt-3\">\r\n            <h4 className=\"text-dark\">{auctionItem.item_name}</h4>\r\n            <h6 className=\"text-secondary\">{auctionItem.description}</h6>\r\n            <hr />\r\n            <div className=\"d-flex justify-content-between mt-3\">\r\n              <h6 className=\"text-secondary\">Seller: <span className=\"text-uppercase text-success\">{auctionItem.owner.name}</span></h6>\r\n            </div>\r\n            \r\n          </div>\r\n        </Col>\r\n        <Col lg=\"3\" className=\"rounded border bg-light pb-5 mr-2\">\r\n          <div className=\"d-flex justify-content-between mt-3\">\r\n            <h5 className=\"text-primary\">{getTheHighestBid(auctionItem.id) !==0?'Leading bid':'Starting price'}</h5>\r\n            <h5 className=\"text-danger\">{getTheHighestBid(auctionItem.id) ===0?auctionItem.initial_price:getTheHighestBid(auctionItem.id)} <span className=\"text-secondary\">SEK</span></h5>\r\n          </div>\r\n          <hr />\r\n          <div className=\"d-flex justify-content-between mt-3\">\r\n            <p className=\"text-primary\">Ends</p>\r\n            <p className=\"text-success\">{formatTime(auctionItem.stop_date)}</p>\r\n          </div>\r\n          \r\n          <div className=\"mt-5\">\r\n            <h6 className=\"text-secondary\">Put a value greater than the highest bid.</h6>\r\n            <form onSubmit={e=>postNewBid(e)}>\r\n              <input type=\"text\" className=\"form-control mt-1\" placeholder=\"Bid price\"\r\n                value={newBid} onChange={e=>setNewBid(e.target.value)}/>\r\n              <button type=\"submit\" className=\"btn btn-outline-success btn-sm mt-3 px-5\">Place bid</button> \r\n            </form>\r\n          </div>\r\n        </Col>\r\n        <Col lg=\"3\" className=\"rounded border pl-5\">\r\n          <div className=\"d-flex justify-content-between mt-3\">\r\n            <h5 className=\"text-secondary\">Bidder</h5>\r\n            <h5 className=\"text-secondary\">Bid</h5>\r\n          </div>\r\n          <hr />\r\n          <div>\r\n            {(() => {   \r\n              return bids.map((bid, i) => {\r\n                if (bid.auction_id === auctionItem.id) {\r\n                  return (\r\n                    <div className=\"d-flex justify-content-between\" key={'sub' + bid.id + i}>\r\n                      <h6 className=\"text-capitalize text-dark\">{bid.bidder.name}</h6>\r\n                      <h6 className=\"text-primary\">{bid.bid} <span className=\"text-secondary\">SEK</span></h6>\r\n                    </div>       \r\n                  )\r\n                }\r\n              })\r\n            })()}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {auctionItem && dispAuctionDetail()}\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default AuctionDetail\r\n","import React, {useState} from 'react'\r\nimport { Container, Row, Col } from 'reactstrap';\r\n\r\nconst SignUp = (props) => {\r\n  const [name, setName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const [message, setMessage] = useState('')\r\n\r\n  const signUpUser = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const credentials = {\r\n      name,\r\n      email,\r\n      password,\r\n      pictureUrl: ''\r\n    }\r\n  \r\n    await fetch(\"/auth/register\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(credentials)\r\n    });\r\n    try {\r\n      props.history.push('/user-login')\r\n    } catch {\r\n      setMessage('Something wrong!')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Row className=\"mt-5\">\r\n        <Col lg=\"4\" className=\"border rounded bg-light\"></Col>\r\n        <Col lg=\"4\" className=\"py-5 rounded\">\r\n          <h4>Sign up</h4>\r\n          <hr />\r\n          <form onSubmit={signUpUser}>\r\n            <input type=\"text\" className=\"mt-2 form-control\" placeholder=\"Name\"\r\n               value={name} onChange={e=>setName(e.target.value)} required/> \r\n            <input type=\"email\" className=\"form-control mt-1\" placeholder=\"Email\"\r\n              value={email} onChange={e=>setEmail(e.target.value)} required/>\r\n            <input type=\"password\" className=\"form-control mt-1\" placeholder=\"Password\"\r\n              value={password} onChange={e=>setPassword(e.target.value)} required/>\r\n            <button className=\"btn btn-outline-success btn-sm float-right mt-3 px-5 w-100\">Submit</button>\r\n            <p className=\"mt-1\">{message&&message}</p>\r\n          </form>\r\n        </Col>\r\n        <Col lg=\"4\" className=\"border rounded bg-light\"></Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default SignUp\r\n","import React, {useContext, useState } from 'react'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport { UserContext } from '../../contexts/UserContextProvider'\r\n\r\nconst SignIn = (props) => {\r\n  const { fetchUser } = useContext(UserContext)\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [message, setMessage] = useState('')\r\n  let history = useHistory();\r\n\r\n  const signInUser = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const credentials = 'username=' +\r\n    encodeURIComponent(email)\r\n    + '&password=' +\r\n    encodeURIComponent(password)\r\n\r\n    let response = await fetch(\"/login\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      body: credentials\r\n    });\r\n\r\n    if(response.url.includes('error')) {\r\n      setMessage('Wrong email or password!')\r\n    }else{\r\n      fetchUser();\r\n      history.goBack() \r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Row className=\"mt-5\">\r\n        <Col lg=\"4\" className=\"border rounded bg-light\"></Col>\r\n        <Col lg=\"4\" className=\"py-5 rounded\">\r\n          <h4>Sign in</h4>\r\n          <hr />\r\n          <form onSubmit={signInUser}>\r\n            <input type=\"email\" className=\"form-control mt-1\" placeholder=\"Email\"\r\n              value={email} onChange={e=>setEmail(e.target.value)} required/>\r\n            <input type=\"password\" className=\"form-control mt-1\" placeholder=\"Password\"\r\n              value={password} onChange={e=>setPassword(e.target.value)} required/>\r\n            <button className=\"btn btn-outline-success btn-sm float-right mt-3 px-5 w-100\">Submit</button> \r\n            <p className=\"text-danger mt-1\">{message&&message}</p>\r\n          </form>\r\n        </Col>\r\n        <Col lg=\"4\" className=\"border rounded bg-light\"></Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default SignIn","import React, {useContext, useState, useEffect } from 'react'\r\nimport { Container, Row, Col, Fade } from 'reactstrap';\r\nimport { UserContext } from '../../contexts/UserContextProvider'\r\nimport moment from 'moment'\r\n\r\nconst MyAuctions = () => {\r\n  const { user } = useContext(UserContext)\r\n  const [myAuctions, setMyAuctions] = useState([])\r\n\r\n  const formateTime = (time) => {\r\n    return moment(time).format('MMMM Do YYYY, H:mm');\r\n  }\r\n\r\n  useEffect(()=>{\r\n    let id = user.id\r\n    const fetchMyAuctions = async (myId) => {\r\n      let auctions = await fetch(`/api/auctions/myauctions/${myId}`)\r\n      auctions = await auctions.json()\r\n      setMyAuctions(auctions);\r\n    };\r\n    fetchMyAuctions(id)\r\n  }, [user])\r\n\r\n  const DispTopTexts = () => {\r\n    return(\r\n      <div className=\"text-dark d-flex \">\r\n        <div style={{width: \"65px\"}} className=\"my-auctions-top p-1 pb-0 rounded\">\r\n          <h6>Index</h6>\r\n        </div>\r\n        <div style={{width: \"350px\"}} className=\"my-auctions-top p-1 pb-0  rounded\">\r\n          <h6>Item Name</h6>\r\n        </div>\r\n        <div style={{width: \"150px\"}} className=\"my-auctions-top p-1 pb-0 rounded\">\r\n          <h6>Initial Price (SEK)</h6>\r\n        </div>\r\n        <div style={{width: \"180px\"}} className=\"my-auctions-top p-1 pb-0 rounded\">\r\n          <h6>Start Date</h6>\r\n        </div>\r\n        <div style={{width: \"185px\"}} className=\"my-auctions-top p-1 pb-0  rounded\">\r\n          <h6>End Date</h6>\r\n        </div>\r\n        <div style={{width: \"410px\"}} className=\"ml-1 my-auctions-top p-1 pb-0  rounded\">\r\n          <h6>Description</h6>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const DispMyAuctionList = () => {\r\n    let values = []\r\n    for (let i = 0; i < myAuctions.length; i++) {\r\n      let color; i%2===0?color='rgb(248 248 248)':color='#faf8f0'     \r\n      values[i] = (\r\n        <div className=\"d-flex ml-1 data-row mx-0\" style={{cursor: 'pointer'}} key={\"mridu \"+ i +\"x\"}>  \r\n          <h6 className=\"pt-2 pl-2\" key={\"key\"+ i} style= {{width:\"65px\"}}>\r\n            {i+1}\r\n          </h6>\r\n          <h6 className=\"ml-1 pl-3 pt-2\" key={\"key\"+ i}\r\n            style={{width:\"350px\"}}>\r\n            {myAuctions[i].item_name}\r\n          </h6>\r\n          <h6 className=\"ml-1 pl-2 pt-2\" key={\"key\"+ i}\r\n            style={{width:\"150px\"}}>\r\n            {myAuctions[i].initial_price}\r\n          </h6>\r\n          <h6 className=\"ml-1 pl-2 pt-2\" key={\"key\"+ i}\r\n            style={{width:\"176px\"}}>\r\n            {formateTime(myAuctions[i].start_date)}\r\n          </h6>\r\n          <h6 className=\"ml-1 pl-2 pt-2\" key={\"key\"+ i}\r\n            style={{width:\"180px\"}}>\r\n            {formateTime(myAuctions[i].stop_date)}\r\n          </h6>\r\n          <h6 className=\"ml-1 pl-2 pt-2\" key={\"key\"+ i}\r\n            style={{width:\"390px\"}}>\r\n            {myAuctions[i].description}\r\n          </h6>\r\n        </div>\r\n      )      \r\n    }\r\n    return values;    \r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col lg=\"12\" className=\"px-0 mb-3 pb-3 mt-5\" \r\n          style={{overflowX: 'scroll', borderRadius: \"5px\"}}>\r\n          {!myAuctions?\r\n          (<div class=\"spinner-border text-secondary\" role=\"status\">\r\n              <span class=\"sr-only\">Loading...</span>\r\n            </div>):\r\n          (<div className=\"px-0\" style={{width: \"1320px\", maxHeight: \"50vh\"}}>\r\n            <Fade>\r\n              <DispTopTexts/>\r\n              <DispMyAuctionList/>\r\n            </Fade>\r\n          </div>)}\r\n        </Col>\r\n      </Row>\r\n      \r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default MyAuctions\r\n","import React, {useContext} from 'react'\r\nimport { AuctionContext } from '../../contexts/AuctionContextProvider'\r\nimport { Link } from 'react-router-dom';\r\nimport { Row, Col, Card, CardImg, CardText, CardBody,\r\n  CardTitle, CardSubtitle} from 'reactstrap';\r\nimport moment from 'moment'\r\n\r\nconst ItemList = () => {\r\n  const { auctionItems, fetchOneAuctionItem, bids} = useContext(AuctionContext)\r\n\r\n  const formateTime = (time) => {\r\n    return moment(time).format('MMMM Do YYYY, H:mm');\r\n  }\r\n\r\n  const getAuctionBids = (auctionId) => {\r\n    let allBids = bids.map((bid, i) => bid.auction_id === auctionId?bid.bid:0);\r\n    let highestBid = Math.max(...allBids)\r\n    return highestBid;\r\n  }\r\n\r\n  const mapAuctionItems = () => {\r\n    return auctionItems.map((item, i) => {\r\n      // let disp; item.stop_date < Date.now()?disp=\"none\":disp=\"block\"\r\n      return (\r\n        <Col lg=\"4\" md=\"6\" sm=\"12\" key={'sub' + item.id + i} className=\"my-3\" onClick={()=>fetchOneAuctionItem(item.id)}>\r\n        <Link to={`/${item.item_name}`} style={{ textDecoration: 'none' }}>\r\n          <Card className=\"card\">\r\n            <CardImg top className=\"card-image\" width=\"100%\" src={item.item_image} alt=\"Anbud Image\" />\r\n            <CardBody>\r\n              <CardTitle tag=\"h5\" className=\"text-dark\">{item.item_name}</CardTitle>\r\n              <CardSubtitle tag=\"h6\" className=\"mb-2 text-muted\">{item.description}</CardSubtitle>\r\n              <hr />\r\n              <div className=\"d-flex justify-content-between mt-3\">\r\n                <CardText><span className=\"text-danger\">{getAuctionBids(item.id) !==0?getAuctionBids(item.id):item.initial_price}</span><span className=\"text-secondary\"> SEK</span></CardText>\r\n                <CardText className=\"text-primary\"><span className=\"text-secondary\">Ends: </span>{formateTime(item.stop_date)}</CardText>\r\n              </div>\r\n            </CardBody>\r\n          </Card>\r\n        </Link>\r\n        </Col>    \r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Row>\r\n      {auctionItems&&mapAuctionItems()}\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default ItemList\r\n","import React from 'react'\r\nimport ItemList from '../components/auction/ItemList'\r\nimport { Container } from 'reactstrap';\r\n\r\nconst Home = () => {\r\n  return (\r\n    <Container>\r\n      <ItemList/>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React, {useContext} from 'react'\r\nimport { UserContext } from '../../contexts/UserContextProvider'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\r\n  const { user } = useContext(UserContext);\r\n  \r\n  return (\r\n    <Route {...rest} render={\r\n      props => {\r\n        if (user) {\r\n          return <Component {...rest} {...props} />\r\n        } else {\r\n          return <Redirect to={\r\n            {\r\n              pathname: '/user-login',\r\n              state: {\r\n                from: props.location\r\n              }\r\n            }\r\n          } />\r\n        }\r\n      }\r\n    } />\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute","  \nimport React from 'react'\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Navbar from './components/partials/TopNavbar'\nimport Footer from './components/partials/Footer'\nimport CreateAd from './components/auction/CreateAd'\nimport AuctionDetail from './components/auction/AuctionDetail'\nimport SignUp from './components/user/SignUp'\nimport SignIn from './components/user/SignIn'\nimport MyAuction from './components/user/MyAuctions'\nimport Home from './pages/Home'\nimport AuctionContextProvider from './contexts/AuctionContextProvider'\nimport SocketContextProvider from './contexts/SocketContextProvider'\nimport UserContextProvider from './contexts/UserContextProvider'\nimport ProtectedRoute from './components/protected/ProtectedRoute'\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <AuctionContextProvider>\n        <SocketContextProvider>\n          <UserContextProvider>\n            <Router>         \n              <Navbar/>       \n                <div className=\"content\">\n                  <Switch>\n                    <ProtectedRoute exact path='/newauction' component={CreateAd} />     \n                    <ProtectedRoute exact path='/myauction' component={MyAuction} />     \n                    <Route exact path=\"/\" component={Home} />                                                 \n                    <Route exact path=\"/user-register\" component={SignUp} />\n                    <Route exact path=\"/user-login\" component={SignIn} />\n                    <Route exact path=\"/:id\" component={AuctionDetail} />                                             \n                  </Switch>\n                </div>\n              <Footer/>                    \n            </Router>\n          </UserContextProvider>\n        </SocketContextProvider>\n      </AuctionContextProvider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.Fragment>\n    <App />\n  </React.Fragment>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}