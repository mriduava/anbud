(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{138:function(e,t,c){"use strict";c.r(t);var n,a=c(1),s=c.n(a),r=c(27),i=c.n(r),o=(c(75),c(15)),l=c(12),d=c(11),j=c.n(d),u=c(13),b=c(10),m=c(145),h=c(146),x=c(147),p=c(159),O=c(148),f=c(149),g=c(0),v=Object(a.createContext)(),N=function(e){var t=Object(a.useState)(null),c=Object(b.a)(t,2),n=c[0],s=c[1],r=function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/user");case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:t=e.sent,s(t),localStorage.setItem("user",JSON.stringify(n)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("Not authenticated!");case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){r();var e=JSON.parse(localStorage.getItem("user"));e&&s(e)}),[]);var i={user:n,setUser:s,fetchUser:r};return Object(g.jsx)(v.Provider,{value:i,children:e.children})},y=Object(a.createContext)(),w=function(e){var t=Object(a.useState)([]),c=Object(b.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(null),i=Object(b.a)(r,2),o=i[0],l=i[1],d=Object(a.useState)([]),m=Object(b.a)(d,2),h=m[0],x=m[1],p=function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/bids");case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,x(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/auctions");case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,s(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){O(),p()}),[]);var f=function(){var e=Object(u.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/auctions/".concat(t));case 2:return c=e.sent,e.next=5,c.json();case 5:c=e.sent,l(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e;null===localStorage.getItem("item")&&void 0===localStorage.getItem("item")||(e=JSON.parse(localStorage.getItem("item"))),l(e)}),[]),Object(a.useEffect)((function(){null===o&&void 0===o||localStorage.setItem("item",JSON.stringify(o))}),[o]);var v={auctionItems:n,setAuctionItems:s,fetchAllAuctionItems:O,fetchOneAuctionItem:f,auctionItem:o,setAuctionItem:l,fetchAllBids:p,bids:h,updateBids:function(e){h.push(e),p()},appendToAuctionsState:function(){O()}};return Object(g.jsx)(y.Provider,{value:v,children:e.children})},S=function(){var e=Object(a.useContext)(v),t=e.user,c=e.setUser,s=Object(a.useContext)(y).setAuctionItems,r=Object(a.useState)(!1),i=Object(b.a)(r,2),l=i[0],d=i[1],N=function(){var e=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/logout");case 2:c(null),localStorage.removeItem("user");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.trim()){e.next=6;break}return e.next=3,fetch("/api/auctions");case 3:c=e.sent,e.next=9;break;case 6:return e.next=8,fetch("/api/auctions/search/"+t);case 8:c=e.sent;case 9:return e.next=11,c.json();case 11:c=e.sent,s(c);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(m.a,{className:"px-0 bg-light bg-gradient rounded-bottom shadow",fluid:!0,children:Object(g.jsx)(m.a,{children:Object(g.jsxs)(h.a,{light:!0,expand:"md",className:"mb-0",children:[Object(g.jsx)(o.b,{to:"/",className:"mr-auto navbar-brand text-success font-weight-bold mb-0 pt-2 pb-0",children:Object(g.jsx)("h3",{children:"ANBUD"})}),Object(g.jsx)(x.a,{onClick:function(){return d(!l)}}),Object(g.jsx)(p.a,{isOpen:l,navbar:!0,children:Object(g.jsxs)(O.a,{className:"ms-auto",navbar:!0,children:[Object(g.jsx)("form",{className:"form-inline d-flex",children:Object(g.jsx)("input",{className:"form-control",type:"search",placeholder:"Search","aria-label":"Search",style:{height:"32px"},onChange:function(e){return t=e.target.value,clearTimeout(n),void(n=setTimeout(Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:case"end":return e.stop()}}),e)}))),300));var t},autoComplete:"off"})}),t?Object(g.jsxs)("div",{className:"mt-1 d-lg-flex",children:[Object(g.jsx)(f.a,{children:Object(g.jsx)(o.b,{className:"text-dark mx-lg-4",to:"/newauction",children:"CREATE AD"})}),Object(g.jsx)(f.a,{className:"mx-1",children:Object(g.jsxs)(o.b,{className:"text-dark mx-lg-3 text-uppercase",to:"/",style:{textDecoration:"none"},children:["User: ",Object(g.jsx)("span",{className:"text-success",children:t&&t.name})]})}),Object(g.jsx)(f.a,{children:Object(g.jsx)(o.b,{className:"text-dark mx-lg-4",to:"/myauction",children:"MY AUCTIONS"})}),Object(g.jsx)(f.a,{children:Object(g.jsx)(o.b,{className:"text-dark ml-lg-2",onClick:N,to:"/",children:" LOGOUT"})})]}):Object(g.jsxs)("div",{className:"mt-1 d-lg-flex",children:[Object(g.jsx)(f.a,{children:Object(g.jsx)(o.b,{className:"text-dark mx-lg-4",to:"/user-register",children:"SIGN UP"})}),Object(g.jsx)(f.a,{children:Object(g.jsx)(o.b,{className:"text-dark ml-lg-3 mr-lg-0",to:"/user-login",children:"SIGN IN"})})]})]})})]})})})},C=c(150),k=function(){return Object(g.jsx)(m.a,{className:"footer bottom bg-light bg-gradient rounded-top border-top border-5",fluid:!0,children:Object(g.jsx)(m.a,{className:"mt-1 text-center",children:Object(g.jsx)(C.a,{children:Object(g.jsxs)("div",{className:"mx-auto pt-3",children:[Object(g.jsx)("p",{className:"mb-0 font-weight-bold",children:"\xa9 2021 MARUF AHMED"}),Object(g.jsx)("hr",{className:"my-0 bg-secondary"}),Object(g.jsx)("p",{className:"mb-0",children:"email: mriduava@gmail.com"}),Object(g.jsx)("p",{children:"github.com/mriduava/anbud"})]})})})})},I=c(151),D=c(58),_=c.n(D),E=(c(92),c(67));Object(D.registerLocale)("sv",E.a);var M=function(e){var t=Object(a.useContext)(v).user,c=Object(a.useContext)(y).appendToAuctionsState,n=new Date,s=n.setDate(n.getDate()+1),r=n.setDate(n.getDate()+30),i=Object(a.useState)(s),o=Object(b.a)(i,2),l=o[0],d=o[1],h=Object(a.useState)(""),x=Object(b.a)(h,2),p=x[0],O=x[1],f=Object(a.useState)(""),N=Object(b.a)(f,2),w=N[0],S=N[1],k=Object(a.useState)(""),D=Object(b.a)(k,2),E=D[0],M=D[1],A=Object(a.useState)(""),P=Object(b.a)(A,2),T=P[0],Y=P[1],U=Object(a.useState)(""),B=Object(b.a)(U,2),J=B[0],F=B[1],L=function(){var n=Object(u.a)(j.a.mark((function n(a){var s,r,i;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),s=new Date(l),r=s.getTime(),i={item_name:p,description:w,item_image:E,initial_price:T,owner_id:t.id,start_date:Date.now(),stop_date:r},n.next=6,fetch("/api/auctions",{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){t.ok?(t=t.json(),Promise.resolve(t).then((function(e){c(e)})),e.history.push("/")):F("Submission failed!")})).catch((function(e){return Promise.reject()}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(g.jsx)(m.a,{children:Object(g.jsxs)(C.a,{className:"mt-5",children:[Object(g.jsx)(I.a,{lg:"3",className:"border-top border-end rounded"}),Object(g.jsxs)(I.a,{lg:"6",className:"py-5 rounded shadow-sm",children:[Object(g.jsx)("h4",{children:"Create ad"}),Object(g.jsx)("hr",{}),Object(g.jsxs)("form",{onSubmit:L,children:[Object(g.jsx)("input",{type:"text",className:"mt-2 form-control",placeholder:"Item name",value:p,onChange:function(e){return O(e.target.value)}}),Object(g.jsx)("input",{type:"text",className:"mt-2 form-control",placeholder:"Description",value:w,onChange:function(e){return S(e.target.value)}}),Object(g.jsx)("input",{type:"text",className:"form-control mt-1",placeholder:"Image URL",value:E,onChange:function(e){return M(e.target.value)}}),Object(g.jsx)("input",{type:"text",className:"form-control mt-1",placeholder:"Initial price",value:T,onChange:function(e){return Y(e.target.value)}}),Object(g.jsxs)("div",{className:"mt-3",children:[Object(g.jsx)("span",{className:"mr-5 text-dark",children:"Ends "}),Object(g.jsx)(_.a,{className:"px-2 py-1 border border-secondary rounded",locale:"sv",style:{padding:"2px !important"},selected:l,onChange:function(e){return d(e)},minDate:s,isClearable:!0,maxDate:r,showWeekNumbersshowTimeSelect:!0,showTimeSelect:!0,timeFormat:"p",timeIntervals:15,dateFormat:"Pp",showYearDropdown:!0,scrolllableMonthYearDropdown:!0,placeholderText:"End date"})]}),Object(g.jsx)("button",{className:"btn btn-outline-success btn-sm float-right mt-3 px-5",children:"Submit"}),Object(g.jsx)("p",{className:"mt-1",children:J&&J})]})]}),Object(g.jsx)(I.a,{lg:"3",className:"border-start border-top rounded"})]})})},A=c(45),P=Object(a.createContext)(),T=function(e){var t=Object(a.useContext)(y).updateBids,c=Object(a.useState)(),n=Object(b.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(!1),o=Object(b.a)(i,2),l=(o[0],o[1]);Object(a.useEffect)((function(){!function(){var e,c=new WebSocket("ws://localhost:9000/anbud-socket");r(c),c.onmessage=function(c){try{e=JSON.parse(c.data)}catch(n){return void console.warn("Could not parse:",c)}switch(e.action){case"bid":t([e.payload]);break;case"user-status":console.log("New status change:",e.payload);break;default:console.log("Could not read action:",e.action)}},c.onopen=function(e){c.send(JSON.stringify({action:"connection",payload:"user connected"})),l(!0)},c.onclose=function(e){console.log("Closing websocket...")},console.log("Connecting...")}()}),[]);var d={sendBidData:function(e){var t;t={action:"bid",payload:e},s.send(JSON.stringify(t))}};return Object(g.jsx)(P.Provider,{value:d,children:e.children})},Y=c(32),U=c.n(Y),B=function(e){var t=Object(a.useContext)(y),c=t.auctionItem,n=t.bids,s=Object(a.useContext)(P).sendBidData,r=Object(a.useContext)(v).user,i=Object(a.useState)(""),o=Object(b.a)(i,2),l=o[0],d=o[1],j=function(e){var t=n.map((function(t,c){return t.auction_id===e?t.bid:0}));return Math.max.apply(Math,Object(A.a)(t))};return Object(g.jsx)(m.a,{children:c&&function(){return Object(g.jsxs)(C.a,{className:"my-5",children:[Object(g.jsxs)(I.a,{lg:"6",children:[Object(g.jsx)("img",{className:"item-detail-img border border-secondary p-2 rounded",src:c.item_image,alt:"mriduava@gmail.com"}),Object(g.jsxs)("div",{className:"mt-3",children:[Object(g.jsx)("h4",{className:"text-dark",children:c.item_name}),Object(g.jsx)("h6",{className:"text-secondary",children:c.description}),Object(g.jsx)("hr",{}),Object(g.jsx)("div",{className:"d-flex justify-content-between mt-3",children:Object(g.jsxs)("h6",{className:"text-secondary",children:["Seller: ",Object(g.jsx)("span",{className:"text-uppercase text-success",children:c.owner.name})]})})]})]}),Object(g.jsxs)(I.a,{lg:"3",className:"rounded border bg-light pb-5 mr-2",children:[Object(g.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[Object(g.jsx)("h5",{className:"text-primary",children:0!==j(c.id)?"Leading bid":"Starting price"}),Object(g.jsxs)("h5",{className:"text-danger",children:[0===j(c.id)?c.initial_price:j(c.id)," ",Object(g.jsx)("span",{className:"text-secondary",children:"SEK"})]})]}),Object(g.jsx)("hr",{}),Object(g.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[Object(g.jsx)("p",{className:"text-primary",children:"Ends"}),Object(g.jsx)("p",{className:"text-success",children:(t=c.stop_date,U()(t).format("MMMM Do YYYY, H:mm"))})]}),Object(g.jsxs)("div",{className:"mt-5",children:[Object(g.jsx)("h6",{className:"text-secondary",children:"Put a value greater than the highest bid."}),Object(g.jsxs)("form",{onSubmit:function(t){return function(t){if(t.preventDefault(),null===r)e.history.push("/user-login");else if(l<=j(c.id))alert("Please write a value more than ".concat(j(c.id)));else if(l<=c.initial_price)alert("Please write a value more than ".concat(c.initial_price));else if(r.id===c.owner.id)alert("You can not bid on your own auction!");else{var n={auction_id:c.id,bid:+l,bidder_id:r.id,created_at:Date.now()};s(n),d("")}}(t)},children:[Object(g.jsx)("input",{type:"text",className:"form-control mt-1",placeholder:"Bid price",value:l,onChange:function(e){return d(e.target.value)}}),Object(g.jsx)("button",{type:"submit",className:"btn btn-outline-success btn-sm mt-3 px-5",children:"Place bid"})]})]})]}),Object(g.jsxs)(I.a,{lg:"3",className:"rounded border pl-5",children:[Object(g.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[Object(g.jsx)("h5",{className:"text-secondary",children:"Bidder"}),Object(g.jsx)("h5",{className:"text-secondary",children:"Bid"})]}),Object(g.jsx)("hr",{}),Object(g.jsx)("div",{children:n.map((function(e,t){if(e.auction_id===c.id)return Object(g.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(g.jsx)("h6",{className:"text-capitalize text-dark",children:e.bidder.name}),Object(g.jsxs)("h6",{className:"text-primary",children:[e.bid," ",Object(g.jsx)("span",{className:"text-secondary",children:"SEK"})]})]},"sub"+e.id+t)}))})]})]});var t}()})},J=function(e){var t=Object(a.useState)(""),c=Object(b.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(""),i=Object(b.a)(r,2),o=i[0],l=i[1],d=Object(a.useState)(""),h=Object(b.a)(d,2),x=h[0],p=h[1],O=Object(a.useState)(""),f=Object(b.a)(O,2),v=f[0],N=f[1],y=function(){var t=Object(u.a)(j.a.mark((function t(c){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),a={name:n,email:o,password:x,pictureUrl:""},t.next=4,fetch("/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:try{e.history.push("/user-login")}catch(s){N("Something wrong!")}case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsx)(m.a,{children:Object(g.jsxs)(C.a,{className:"mt-5",children:[Object(g.jsx)(I.a,{lg:"4",className:"border rounded bg-light"}),Object(g.jsxs)(I.a,{lg:"4",className:"py-5 rounded",children:[Object(g.jsx)("h4",{children:"Sign up"}),Object(g.jsx)("hr",{}),Object(g.jsxs)("form",{onSubmit:y,children:[Object(g.jsx)("input",{type:"text",className:"mt-2 form-control",placeholder:"Name",value:n,onChange:function(e){return s(e.target.value)},required:!0}),Object(g.jsx)("input",{type:"email",className:"form-control mt-1",placeholder:"Email",value:o,onChange:function(e){return l(e.target.value)},required:!0}),Object(g.jsx)("input",{type:"password",className:"form-control mt-1",placeholder:"Password",value:x,onChange:function(e){return p(e.target.value)},required:!0}),Object(g.jsx)("button",{className:"btn btn-outline-success btn-sm float-right mt-3 px-5 w-100",children:"Submit"}),Object(g.jsx)("p",{className:"mt-1",children:v&&v})]})]}),Object(g.jsx)(I.a,{lg:"4",className:"border rounded bg-light"})]})})},F=function(e){var t=Object(a.useContext)(v).fetchUser,c=Object(a.useState)(""),n=Object(b.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(""),o=Object(b.a)(i,2),d=o[0],h=o[1],x=Object(a.useState)(""),p=Object(b.a)(x,2),O=p[0],f=p[1],N=Object(l.g)(),y=function(){var e=Object(u.a)(j.a.mark((function e(c){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),n="username="+encodeURIComponent(s)+"&password="+encodeURIComponent(d),e.next=4,fetch("/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n});case 4:e.sent.url.includes("error")?f("Wrong email or password!"):(t(),N.goBack());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(m.a,{children:Object(g.jsxs)(C.a,{className:"mt-5",children:[Object(g.jsx)(I.a,{lg:"4",className:"border rounded bg-light"}),Object(g.jsxs)(I.a,{lg:"4",className:"py-5 rounded",children:[Object(g.jsx)("h4",{children:"Sign in"}),Object(g.jsx)("hr",{}),Object(g.jsxs)("form",{onSubmit:y,children:[Object(g.jsx)("input",{type:"email",className:"form-control mt-1",placeholder:"Email",value:s,onChange:function(e){return r(e.target.value)},required:!0}),Object(g.jsx)("input",{type:"password",className:"form-control mt-1",placeholder:"Password",value:d,onChange:function(e){return h(e.target.value)},required:!0}),Object(g.jsx)("button",{className:"btn btn-outline-success btn-sm float-right mt-3 px-5 w-100",children:"Submit"}),Object(g.jsx)("p",{className:"text-danger mt-1",children:O&&O})]})]}),Object(g.jsx)(I.a,{lg:"4",className:"border rounded bg-light"})]})})},L=c(152),R=function(){var e=Object(a.useContext)(v).user,t=Object(a.useState)([]),c=Object(b.a)(t,2),n=c[0],s=c[1],r=function(e){return U()(e).format("MMMM Do YYYY, H:mm")};Object(a.useEffect)((function(){var t=e.id;(function(){var e=Object(u.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/auctions/myauctions/".concat(t));case 2:return c=e.sent,e.next=5,c.json();case 5:c=e.sent,s(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t)}),[e]);var i=function(){return Object(g.jsxs)("div",{className:"text-dark d-flex ",children:[Object(g.jsx)("div",{style:{width:"65px"},className:"my-auctions-top p-1 pb-0 rounded",children:Object(g.jsx)("h6",{children:"Index"})}),Object(g.jsx)("div",{style:{width:"350px"},className:"my-auctions-top p-1 pb-0  rounded",children:Object(g.jsx)("h6",{children:"Item Name"})}),Object(g.jsx)("div",{style:{width:"150px"},className:"my-auctions-top p-1 pb-0 rounded",children:Object(g.jsx)("h6",{children:"Initial Price (SEK)"})}),Object(g.jsx)("div",{style:{width:"180px"},className:"my-auctions-top p-1 pb-0 rounded",children:Object(g.jsx)("h6",{children:"Start Date"})}),Object(g.jsx)("div",{style:{width:"185px"},className:"my-auctions-top p-1 pb-0  rounded",children:Object(g.jsx)("h6",{children:"End Date"})}),Object(g.jsx)("div",{style:{width:"410px"},className:"ml-1 my-auctions-top p-1 pb-0  rounded",children:Object(g.jsx)("h6",{children:"Description"})})]})},o=function(){for(var e=[],t=0;t<n.length;t++){t%2===0?"rgb(248 248 248)":"#faf8f0",e[t]=Object(g.jsxs)("div",{className:"d-flex ml-1 data-row mx-0",style:{cursor:"pointer"},children:[Object(g.jsx)("h6",{className:"pt-2 pl-2",style:{width:"65px"},children:t+1},"key"+t),Object(g.jsx)("h6",{className:"ml-1 pl-3 pt-2",style:{width:"350px"},children:n[t].item_name},"key"+t),Object(g.jsx)("h6",{className:"ml-1 pl-2 pt-2",style:{width:"150px"},children:n[t].initial_price},"key"+t),Object(g.jsx)("h6",{className:"ml-1 pl-2 pt-2",style:{width:"176px"},children:r(n[t].start_date)},"key"+t),Object(g.jsx)("h6",{className:"ml-1 pl-2 pt-2",style:{width:"180px"},children:r(n[t].stop_date)},"key"+t),Object(g.jsx)("h6",{className:"ml-1 pl-2 pt-2",style:{width:"390px"},children:n[t].description},"key"+t)]},"mridu "+t+"x")}return e};return Object(g.jsx)(m.a,{children:Object(g.jsx)(C.a,{children:Object(g.jsx)(I.a,{lg:"12",className:"px-0 mb-3 pb-3 mt-5",style:{overflowX:"scroll",borderRadius:"5px"},children:n?Object(g.jsx)("div",{className:"px-0",style:{width:"1320px",maxHeight:"50vh"},children:Object(g.jsxs)(L.a,{children:[Object(g.jsx)(i,{}),Object(g.jsx)(o,{})]})}):Object(g.jsx)("div",{class:"spinner-border text-secondary",role:"status",children:Object(g.jsx)("span",{class:"sr-only",children:"Loading..."})})})})})},q=c(153),H=c(154),K=c(155),G=c(156),W=c(157),z=c(158),X=function(){var e=Object(a.useContext)(y),t=e.auctionItems,c=e.fetchOneAuctionItem,n=e.bids,s=function(e){var t=n.map((function(t,c){return t.auction_id===e?t.bid:0}));return Math.max.apply(Math,Object(A.a)(t))};return Object(g.jsx)(C.a,{children:t&&t.map((function(e,t){return Object(g.jsx)(I.a,{lg:"4",md:"6",sm:"12",className:"my-3",onClick:function(){return c(e.id)},children:Object(g.jsx)(o.b,{to:"/".concat(e.item_name),style:{textDecoration:"none"},children:Object(g.jsxs)(q.a,{className:"card",children:[Object(g.jsx)(H.a,{top:!0,className:"card-image",width:"100%",src:e.item_image,alt:"Anbud Image"}),Object(g.jsxs)(K.a,{children:[Object(g.jsx)(G.a,{tag:"h5",className:"text-dark",children:e.item_name}),Object(g.jsx)(W.a,{tag:"h6",className:"mb-2 text-muted",children:e.description}),Object(g.jsx)("hr",{}),Object(g.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[Object(g.jsxs)(z.a,{children:[Object(g.jsx)("span",{className:"text-danger",children:0!==s(e.id)?s(e.id):e.initial_price}),Object(g.jsx)("span",{className:"text-secondary",children:" SEK"})]}),Object(g.jsxs)(z.a,{className:"text-primary",children:[Object(g.jsx)("span",{className:"text-secondary",children:"Ends: "}),(n=e.stop_date,U()(n).format("MMMM Do YYYY, H:mm"))]})]})]})]})})},"sub"+e.id+t);var n}))})},Q=function(){return Object(g.jsx)(m.a,{children:Object(g.jsx)(X,{})})},V=c(36),Z=c(68),$=["component"],ee=function(e){var t=e.component,c=Object(Z.a)(e,$),n=Object(a.useContext)(v).user;return Object(g.jsx)(l.b,Object(V.a)(Object(V.a)({},c),{},{render:function(e){return n?Object(g.jsx)(t,Object(V.a)(Object(V.a)({},c),e)):Object(g.jsx)(l.a,{to:{pathname:"/user-login",state:{from:e.location}}})}}))},te=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(w,{children:Object(g.jsx)(T,{children:Object(g.jsx)(N,{children:Object(g.jsxs)(o.a,{children:[Object(g.jsx)(S,{}),Object(g.jsx)("div",{className:"content",children:Object(g.jsxs)(l.d,{children:[Object(g.jsx)(ee,{exact:!0,path:"/newauction",component:M}),Object(g.jsx)(ee,{exact:!0,path:"/myauction",component:R}),Object(g.jsx)(l.b,{exact:!0,path:"/",component:Q}),Object(g.jsx)(l.b,{exact:!0,path:"/user-register",component:J}),Object(g.jsx)(l.b,{exact:!0,path:"/user-login",component:F}),Object(g.jsx)(l.b,{exact:!0,path:"/:id",component:B})]})}),Object(g.jsx)(k,{})]})})})})})},ce=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,160)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};c(136);i.a.render(Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)(te,{})}),document.getElementById("root")),ce()},75:function(e,t,c){}},[[138,1,2]]]);
//# sourceMappingURL=main.185755d1.chunk.js.map